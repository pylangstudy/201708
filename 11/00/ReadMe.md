# [6.2. re — 正規表現操作](https://docs.python.jp/3/library/re.html#module-re)

< [6. テキスト処理サービス](https://docs.python.jp/3/library/text.html#text-processing-services) < [Python 標準ライブラリ](https://docs.python.jp/3/library/index.html#the-python-standard-library) < [ドキュメント](https://docs.python.jp/3/index.html)

https://github.com/python/cpython/tree/3.6/Lib/re.py

## 説明

> このモジュールは、Perl などと同様の正規表現マッチング操作を提供しています。

PerlだのC/C++だのModula-3だのBNF文法だの、Pythonを学習する前にどれだけの言語予備知識が必要なのか……。

> パターンと文字列には Unicode 文字列および 8 ビット文字列が使用できます。しかし、Unicode 文字列と8ビット文字列の混在はできません。すなわち、Unicode 文字列をバイト列のパターンでマッチングしたり、その逆はできません。同様に、置き換え時の置換文字列はパターンおよび検索文字列と同じ型でなくてはなりません。

「8ビット文字列」とは何か？`b'ABC'`、`u'ABC'`、'ABC'のどれかなのか？

> 正規表現では、特殊な形式を表したり、特殊文字の持つ特別な意味を呼び出さずにその特殊な文字を使えるようにするために、バックスラッシュ文字 ('\') を使います。こうしたバックスラッシュの使い方は、 Python の文字列リテラルにおける同じバックスラッシュ文字と衝突を起こします。例えば、バックスラッシュ自体にマッチさせるには、パターン文字列として '\\\\' と書かなければなりません、というのも、正規表現は \\ でなければならず、さらに正規な Python 文字列リテラルでは各々のバックスラッシュを \\ と表現せねばならないからです。

Python正規表現上で`\`という文字にマッチさせるには`\\\\`と書かねばならないということか？

> 正規表現パターンに Python の raw string 記法を使えばこの問題を解決できます。 'r' を前置した文字列リテラル内ではバックスラッシュを特別扱いしません。従って、 "\n" が改行一文字の入った文字列になるのに対して、 r"\n" は '\' と 'n' という二つの文字の入った文字列になります。通常、 Python コード中では、パターンをこの raw string 記法を使って表現します。

`r'検索文字列'`と書くとエスケープ文字がリテラル化すると。

> 大抵の正規表現操作が、モジュールレベルの関数と、 コンパイル済み正規表現 のメソッドとして提供されることに注意して下さい。関数は正規表現オブジェクトのコンパイルを必要としない近道ですが、いくつかのチューニング変数を失います。

使い方も知らないので何を言っているかわからない。

## 参考

> サードパーティの regex モジュールは、標準ライブラリの re モジュールと互換な API を持ち、追加の機能とより徹底した Unicode サポートを提供します。 

標準ではUnicodeサポートが中途半端ということか？バッテリー同梱の哲学とは一体……。

たしかHTTP通信もrequestsというサードパーティ製を勧めていたような。Python自慢の標準ライブラリはサードパーティ製に比べて貧弱・劣悪ということなのか？

* [regex](https://pypi.python.org/pypi/regex/)

